# ç¬¬02èŠ‚ï¼šå¼‚å¸¸å¤„ç†

### ä¸€ã€æŠ›å‡ºå¼‚å¸¸

é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥æŠ›å‡ºå¼‚å¸¸ï¼Œç”¨å…³é”®å­—throwsï¼Œåœ¨æ–¹æ³•å£°æ˜çš„ä½ç½®ä¸Šä½¿ç”¨throwså…³é”®å­—å‘ä¸ŠæŠ›å‡ºå¼‚å¸¸ã€‚ä¾‹å¦‚ä¸‹é¢ç¨‹åºæ¼”ç¤ºäº†ä¸€èˆ¬æ€§å¼‚å¸¸ï¼Œç¼–è¯‘æ— æ³•é€šè¿‡ï¼Œéœ€è¦å¯¹å¼‚å¸¸è¿›è¡Œå¤„ç†

``` java
import java.io.FileInputStream;

public class ExceptionTest{t

    public static void main(String[] args){
        //è¿™å¥ä»£ç çš„æ„æ€æ˜¯åˆ›å»ºæ–‡ä»¶è¾“å…¥æµï¼ˆç¬¬08ç« ioæµä¸­ä¼šä»‹ç»ï¼‰ï¼Œè¯»å–æ–‡ä»¶ã€‚ä½†æ˜¯ä¼šæŠ¥å‡ºå¼‚å¸¸ï¼šç³»ç»Ÿæ‰¾ä¸åˆ°æŒ‡å®šçš„æ–‡ä»¶ã€‚
        FileInputStream fis = new FileInputStream("d:/xiaozhou.txt");

    }
}
```

è¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨throwså°†å¼‚å¸¸æŠ›å‡º

``` java
import java.io.*;

public class ExceptionTest {

    public static void main(String[] args) throws FileNotFoundException{
<<<<<<< HEAD
=======

>>>>>>> develop
        //è¿™å¥ä»£ç çš„æ„æ€æ˜¯åˆ›å»ºæ–‡ä»¶è¾“å…¥æµï¼Œè¯»å–æ–‡ä»¶
        FileInputStream fis = new FileInputStream("d:/xiaozhou.txt");

    }
}
```

jvmæ˜¯æ€ä¹ˆçŸ¥é“è¿™ä¸ªåœ°æ–¹å®¹æ˜“å‡ºç°é—®é¢˜å‘¢ï¼Ÿæ¥çœ‹ä¸‹FileInputStreamçš„æºç 

``` java
public FileInputStream(String name) throws FileNotFoundException {
    this(name != null ? new File(name) : null);
}
```

æºç é‡Œé¢åœ¨æ„é€ æ–¹æ³•ä¸ŠæŠ›å‡ºäº†FileNotFoundExceptionï¼Œæ‰€ä»¥jvmçŸ¥é“ã€‚  

å…¶å®ä½¿ç”¨throwsæŠ›å‡ºå¼‚å¸¸å¹¶ä¸æ˜¯çœŸæ­£çš„å»å¤„ç†å¼‚å¸¸ï¼Œè€Œæ˜¯æŠ›ç»™å…¶è°ƒç”¨è€…å»å¤„ç†ï¼Œæ¯”å¦‚ä½ åœ¨å·¥ä½œä¸­é‡åˆ°é—®é¢˜äº†ï¼Œäº¤ç»™äº†ä½ çš„é¢†å¯¼å»è§£å†³ï¼Œé¢†å¯¼å¦‚æœä¹Ÿä¸æƒ³è§£å†³å°±äº¤ç»™ä»–çš„é¢†å¯¼å»è§£å†³ã€‚åœ¨ä¸Šé¢ç¨‹åºé‡Œé¢ï¼Œæˆ‘ä»¬æŠ›å‡ºäº†å¼‚å¸¸ï¼Œæœ€åæ˜¯äº¤ç»™äº†jvmè§£å†³ï¼Œjvmçš„è§£å†³æ–¹å¼å°±æ˜¯å°†é”™è¯¯ä¿¡æ¯æ‰“å°è‡³æ§åˆ¶å°ï¼Œç„¶åå…³é—­ç¨‹åºã€‚  
æ‰€ä»¥è¯´æŠ›å‡ºå¼‚å¸¸ä¾ç„¶ä¼šæŠ¥é”™ğŸ˜‚

ä¸‹é¢ç¤ºä¾‹å±•ç¤ºäº†å°†å¼‚å¸¸æŠ›å‡ºçš„æƒ…å†µ  

``` java
import java.io.*;

public class ExceptionTest04{

    public static void main(String[] args) throws FileNotFoundException{

        //æŠ›ç»™è°ƒç”¨è€…ï¼Œå¦‚æœéƒ½ä¸è¿›è¡Œå¤„ç†çš„è¯ï¼Œæœ€ç»ˆæŠ›ç»™äº†mainæ–¹æ³•
        m1();
    }

    public static void m1() throws FileNotFoundException{
        m2();
    }


    public static void m2() throws FileNotFoundException{
        m3();
    }

    //å‘ä¸ŠæŠ›å‡ºå¼‚å¸¸
    public static void m3() throws FileNotFoundException{
        FileInputStream fis = new FileInputStream("c:/xiaozhou.txt"); 
    }

}
```

#### é‚£æŠ›å‡ºå¼‚å¸¸å¹¶ä¸è§£å†³å¼‚å¸¸ï¼Œè¿˜æœ‰æŠ›å‡ºå¼‚å¸¸çš„å¿…è¦å—ï¼Ÿ

å½“ç„¶æ˜¯æœ‰çš„ï¼Œæ¯”å¦‚ï¼š

1. ä¸è‡³äºç¨‹åºå½»åº•å´©æºƒï¼Œå½±å“ç”¨æˆ·ä½“éªŒã€‚
2. æŠŠå¼‚å¸¸æŠ›ç»™è°ƒç”¨å®ƒçš„åœ°æ–¹ï¼Œç„¶åè§£å†³
3. ä½¿ç”¨throwsä¸»è¦æ„å›¾æ˜¯æš´éœ²é—®é¢˜ï¼Œå¦‚ä½•è§£å†³è®©è°ƒç”¨è€…å»å†³å®š

### äºŒã€æ•è·å¼‚å¸¸

å¯ä»¥ä½¿ç”¨tryâ€¦catchâ€¦å¤„ç†å¼‚å¸¸ï¼Œä¾‹å¦‚ä¹‹å‰çš„ç¨‹åºå¯ä»¥ä½¿ç”¨tryâ€¦catchâ€¦å¤„ç†

``` java
package com.xiaozhou.exception;

import java.io.FileInputStream;
import java.io.FileNotFoundException;

public class ExceptionTest02 {

    public static void main(String[] args) {
         try {
            FileInputStream fis = new FileInputStream("d:/xiaozhou.txt");
            //æ•æ‰FileNotFoundExceptionå¼‚å¸¸
        } catch (FileNotFoundException e) {//jvmä¼šåˆ›å»ºFileNotFoundExceptionçš„å¯¹è±¡ï¼Œç„¶åå°†eæŒ‡å‘è¿™ä¸ªå¯¹è±¡
            //å¦‚æœtryé‡Œé¢çš„ä»£ç æ²¡æœ‰æŠ¥é”™ï¼Œåˆ™ä¸ä¼šæ‰§è¡Œcatché‡Œé¢çš„ä»£ç 
            e.printStackTrace();//æ‰“å°å‡ºå¼‚å¸¸ä¿¡æ¯
            String msg = e.getMessage();
            System.out.println(msg);
        }
        System.out.println("xiaozhou.com");//catchåé¢çš„è¯­å¥ä¼šæ­£å¸¸æ‰§è¡Œ
    }

}
```

å¯ä»¥æ•æ‰å¤šä¸ªå¼‚å¸¸ï¼Œä½†æ˜¯catché‡Œé¢å¿…é¡»ä»å°ç±»å‹å¼‚å¸¸åˆ°å¤§ç±»å‹å¼‚å¸¸è¿›è¡Œæ•æ‰ï¼Œå…ˆæ•æ‰å­åæ•æ‰çˆ¶ï¼Œæœ€å¤šæ‰§è¡Œä¸€ä¸ªcatchè¯­å¥å—é‡Œé¢çš„å†…å®¹ã€‚

``` java
package com.xiaozhou.exception;

import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;

public class ExceptionTest02 {

    public static void main(String[] args) {
         try {
            FileInputStream fis = new FileInputStream("d:/xiaozhou.txt");
            fis.read();
        } catch (FileNotFoundException e) {//æ•æ‰FileNotFoundExceptionå¼‚å¸¸
            e.printStackTrace();
        } catch (IOException e) {//æ•æ‰IOExceptionå¼‚å¸¸
            e.printStackTrace();
        } catch (Exception e) {//æ•æ‰Exceptionå¼‚å¸¸
            e.printStackTrace();
        }
    }

}
```

jdk7æ–°ç‰¹æ€§ï¼Œå¯ä»¥å°†å¤šä¸ªæ•æ‰çš„å¼‚å¸¸æ”¾åˆ°ä¸€ä¸ªcatché‡Œé¢ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š

``` java
package com.xiaozhou.exception;

import java.io.FileInputStream;
import java.io.FileNotFoundException;

public class ExceptionTest03 {

    public static void main(String[] args) {

        try {
            System.out.println(1024 / 0);
            FileInputStream fis = new FileInputStream("d:/xiaozhou.txt");
            //jdk7æ–°ç‰¹æ€§ï¼Œå¯ä»¥å°†å¤šä¸ªå¼‚å¸¸æ”¾åˆ°ä¸€ä¸ªcatché‡Œé¢
        } catch (FileNotFoundException | ArithmeticException e) {
            e.printStackTrace();
        } /*catch (ArithmeticException e){
            e.printStackTrace();
        }*/
    }

}
```

### ä¸‰ã€finallyå…³é”®å­—æ˜¯ä»€ä¹ˆï¼Ÿ

finallyçš„ç‰¹ç‚¹

è¢«finallyæ§åˆ¶çš„è¯­å¥ä½“ä¸€å®šä¼šæ‰§è¡Œï¼Œé™¤éåœ¨æ‰§è¡Œfinallyè¯­å¥ä½“ä¹‹å‰JVMé€€å‡º(æ¯”å¦‚System.exit(0))ï¼Œä¸€èˆ¬ç”¨äºå…³é—­èµ„æº

finallyå¦‚ä½•ä½¿ç”¨ï¼Ÿ

finallyè¯­å¥å—å¯ä»¥ç›´æ¥å’Œtryè¯­å¥å—è”ç”¨ï¼štryâ€¦.finallyâ€¦ï¼ˆè¿™ç§ç”¨çš„æ¯”è¾ƒå°‘ï¼‰
ä¹Ÿå¯ä»¥è¿™æ ·ä½¿ç”¨ï¼štryâ€¦catchâ€¦.finally

``` java
package com.monkey1024.exception;

public class FinallyTest01 {

    public static void main(String[] args) {

        try {
            System.out.println(1024 / 0);
        } catch (ArithmeticException e) {
            e.printStackTrace();
        } finally{
            System.out.println("finallyä¸­çš„å†…å®¹");
        }
    }

}
```

å³ä½¿åœ¨æ–¹æ³•é‡Œé¢æ‰§è¡Œäº†returnï¼Œfinallyä¸­çš„ä»£ç ä¹Ÿä¼šæ‰§è¡Œ

``` java
package com.monkey1024.exception;

public class FinallyTest02 {
public static void main(String[] args){

        int i = m1();
        System.out.println(i); 

    }

    public static int m1(){

        int i = 10;
        try{
            return i;
        }finally{
            System.out.println("finallyä¸­çš„è¯­å¥");
        }

    }

}
```

åªæœ‰å½“finallyè¯­å¥æ‰§è¡Œä¹‹å‰ï¼ŒJVMé€€å‡ºäº†ï¼Œfinallyæ‰ä¸ä¼šæ‰§è¡Œï¼š

``` java
package com.monkey1024.exception;

public class FinallyTest02 {
public static void main(String[] args){

        int i = m1();
        System.out.println(i); 

    }

    public static int m1(){

       try {
           int i = 1024;//tryé‡Œé¢çš„å˜é‡åœ¨å¤–éƒ¨æ˜¯æ— æ³•è¢«è®¿é—®çš„
           System.exit(0);//è®©jvmé€€å‡ºï¼Œæ‰€ä»¥finallyä¸­çš„è¯­å¥ä¸ä¼šæ‰§è¡Œ
           return i;
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            System.out.println("finallyä¸­çš„è¯­å¥");
        }
       return 10;
       // å¦‚æœå†™System.out.println(i);ä¼šæ— æ³•è®¿é—®iï¼Œå› ä¸ºiæ˜¯åœ¨tryä¸­å£°æ˜çš„

    }

}
```

### å››ã€æ€»ç»“

ä»¥ä¸Šæ˜¯å¤„ç†å¼‚å¸¸çš„ä¸¤ç§æ–¹æ³•ï¼Œthrowså‘ä¸ŠæŠ›å‡ºå¼‚å¸¸ï¼Œtryâ€¦catchâ€¦æ•è·å¤„ç†å¼‚å¸¸ã€‚è¿˜æœ‰finallyå…³é”®å­—ã€‚
ä¸‹ä¸€èŠ‚æˆ‘ä»¬å­¦ä¹ å¦‚ä½•è‡ªå®šä¹‰å¼‚å¸¸ã€‚